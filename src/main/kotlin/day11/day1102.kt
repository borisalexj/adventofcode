package day11

import day10.realinput10
import kotlin.math.abs
import kotlin.math.max
import kotlin.math.min

fun main(args: Array<String>) {
    val input = realInput11.map { it.split("").filter { it.isNotEmpty() }.toMutableList() }.toMutableList()
//    println(input)
//    val input2 = ArrayList<ArrayList<String>>()
//    val input3 = ArrayList<ArrayList<String>>()
    val input4 = ArrayList<ArrayList<String>>()
    val emptyLines = ArrayList<Int>()
    val emptyCols = ArrayList<Int>()
    for (linenumber in 0..input.size-1) {
        if (input[linenumber].all { it == "." }) {
            emptyLines.add(linenumber)

        }
    }
//    for (line in input) {
//        input3.add(arrayListOf())
//    }
    for (i in 0..input[0].size-1) {
        if (input.map { it[i] }.all { it == "." }) {
            emptyCols.add(i)
        }
    }
    input.forEach { println(it) }
    println(emptyLines)
    println(emptyCols)
//    println("===============")
//    input2.forEach { println(it) }
//    println("===============")
//    input3.forEach { println(it) }
    println("===============")
    var number = 0
    for (line in input) {
        val outLine = ArrayList<String>()
        for (symbol in line) {
            if (symbol == ".") {
                outLine.add(symbol)
            } else {
                number = number +1
                outLine.add(number.toString())
            }
        }
        input4.add(outLine)
    }
//    input4.forEach { println(it) }

    val result = HashMap<Pair<String,String>,Long>() // n1,n2,distance
    for (y1 in 0..input4.size-1) {
        for (x1 in 0..input4[0].size-1) {
            if (input4[y1][x1] == ".") {
                continue
            } else {
                for (y2 in 0..input4.size-1) {
                    for (x2 in 0..input4.size-1) {
                        if (input4[y1][x1] == input4[y2][x2] || input4[y2][x2] == ".") {
                            continue
                        } else {
                            val minX = min (x2 ,x1).toLong()
                            val maxX = max (x2 ,x1).toLong()
                            val minY = min (y2 ,y1).toLong()
                            val maxY = max (y2 ,y1).toLong()
                            val amountOfXMillions = emptyCols.filter { it <maxX && it > minX }.size.toLong()
                            val amountOfyMillions = emptyLines.filter { it <maxY && it > minY }.size.toLong()
                            val distance : Long = ((maxX - minX - amountOfXMillions + amountOfXMillions*1000000)
                                    + (maxY - minY - amountOfyMillions + amountOfyMillions*1000000))
                            val num1 = min(input4[y1][x1].toInt(), input4[y2][x2].toInt()).toString()
                            val num2 = max(input4[y1][x1].toInt(), input4[y2][x2].toInt()).toString()
                            result.put(Pair(num1, num2), distance)
                        }
                    }
                }
            }
        }
    }
//    result.entries.forEach { println(it) }

    println("result 1102 - " + result.values.sum()) // 504715068438


}

val sampleInput11_ = arrayListOf(
    "...#......",
    ".......#..",
    "#.........",
    "..........",
    "......#...",
    ".#........",
    ".........#",
    "..........",
    ".......#..",
    "#...#.....",
)
val realInput11_ = arrayListOf(
"...................#.....#...............#......................#......................#...................#...........................#....",
"..................................................#................................................#..............#.........................",
"......#.....#.................#..............................................................#..............................................",
"......................................................#..................#.....#............................................................",
".....................................................................................#.....................................#................",
".#............................................................................................................#.............................",
"..................#......................#............................#..............................................................#.....#",
"......................................................................................................#.............#.......................",
"..............................................#........#........................#................................................#..........",
".....#......................#......................................#.....#...................#..............................................",
".........................................................................................................#..................................",
"......................#...............#............#........................................................................................",
"..................................................................................................#.........................................",
"..........#..................................................................................................#..............#..........#....",
"....#...........................#..........................#..............................#.................................................",
"........................................#............................................#.................................#.........#..........",
"...................................................................#...........#..........................#.................................",
"............................................................................................................................................",
"............................................#...............................................................................................",
"....................#.................................#................................................................................#....",
"............................................................................................#...............................................",
"............................................................................#........#.........................................#............",
"...#...................#..........................#...............#......................................................#..................",
"..............................#........#....................................................................................................",
"................#................................................................................#.......................................#..",
"......#..............................................................#...................#..................................................",
".#.........................................#..........#.........#..............#........................#............#......................",
"............................................................................................................................................",
"...........#...................................#...............................................................#.............#..............",
"........................#........#........................................#..........#..................................................#...",
"....#.....................................................#.................................#......................................#........",
"...............................................................#...................................#....................#...................",
"#.............................................................................#..................................#.............#............",
".............................#..........#.............................#...................................#.................................",
"........................................................#...................................................................................",
".............#........................................................................................................#................#....",
"...#.............................................#..................................#......#.....#..........................................",
"................................#..............................#............................................................................",
"...................#........................................................#...............................................................",
"#..........................#.........................................................................#......#...........#...................",
".......#...........................#.....#..............#.................................................................................#.",
"......................#.........................#...........................................................................................",
".....................................................................................................................#.......#......#.......",
".............................................................#....................#...............#.........................................",
".........#..................................................................................................................................",
"...............................#............#....................#.....#...............#..................#.................................",
"....#...........#.........#.........................#..............................................................#..................#.....",
".....................#.......................................................................#..............................................",
"....................................................................................................#.......................................",
".....................................#..........#...............................#...........................#..........#..........#.......#.",
"..........................................................................................#.................................................",
".#..........................................#.............................#.................................................................",
".................#...........#............................#.............................................#......................#............",
".........#...........................................................#..............#.......................................................",
"..................................................................................................#.............#.......#...................",
".............................................................................#.......................................................#......",
"......#.............#...........#..........#........#...........#...........................................#...............................",
".........................................................................#..................................................................",
"........................................................#...........#...........#................................................#..........",
"........................................#....................#..........................................#.............#.....................",
"..........#...................#................................................................#..........................................#.",
"..................#.................................................................................#..........#............................",
"..........................................................................................#.................................................",
"..........................................................#...............#.................................................................",
"............#................................#......................#..........#.........................................#......#...........",
"..#.......................#..................................................................................#.....#........................",
".................................................#...........................................#..............................................",
".........#........#..................#...........................#.....................#...............#.............................#......",
"......................................................................#..........................#.....................#....................",
"............................................................................................................................................",
"........................#.....................................................................................#............#............#...",
"..............#............................#.................................#......#.......................................................",
"........#..........#........................................................................................................................",
"............................#............................................#..........................#.......................................",
".......................................................#......#.........................................................#......#............",
".........................................................................................#.....#..................#.........................",
".......................#................#.......................................#............................#.......................#......",
"............................................................................................................................................",
".........#.......................................................................................................................#..........",
"...#..........#................................#...........#......#.....................................................................#...",
"....................................................................................#.......................................................",
".............................#.....................................................................................#.....#..................",
"...................................#.....................................................#.............#....................................",
".....#.............#................................#......................................................................................#",
".............#............................................#...................#.................#.....................#.....#......#........",
"#...............................#.........#..........................................#......................................................",
".........................#...............................................#..................................................................",
".................................................................................#......................................................#...",
"....#...........#..................................#......................................................#.................................",
"..............................................#.....................#.......................#...........................#...................",
"..............................#.........................#.............................................#.........#...........................",
".........................................#.....................................#...............................................#............",
".#.........#..................................................#..........................#...........................#......................",
"............................................................................................................................................",
".........................................................................................................................................#..",
".......#..........................................#.......................#................................................#........#.......",
"............................................................................................................................................",
".................#.........#.........................................#.........................#.....#......#...............................",
"............................................#..........#......................#......#......................................................",
"....................................#.............................................................................#.........................",
"...........................................................#................................................................................",
".................................................................................#........#...............#..............................#..",
".......#...........#..............................#.........................................................................................",
"..#...............................................................................................#.................#............#..........",
"..............................................#..........#...............#..................................................................",
"..................................#.....#.....................#.......................#...............#......#.............#................",
"..........................#.................................................................................................................",
"....................................................#..................................................................#....................",
"...........................................................................#..............#.....#...........................................",
"#...................#...........................................................#...........................................................",
"...........................................#....................#....................................................................#......",
".......#.....#........................................#....................................................#................................",
"..............................#...................................................................#.........................................",
".............................................................................#.......................................#......................",
".....................#....................................................................................................................#.",
".................................#....................................#........................#............................................",
"......#...........................................#.........................................................................................",
"...........................................#................................................................................#......#........",
"..........#...............#.........................................................#.......................................................",
"..................#...........................................................#.............................................................",
"...............................................................#............................................#.......#.......................",
"....#........#...................................................................................#..........................................",
"......................#...................................................#...........#................#....................................",
"........#..............................................#...................................#....................#...........................",
"..................................................#.......................................................................#..........#......",
".#...................................#..........................................................................................#...........",
"..........................................#........................................#...............#........................................",
"..........................#.....#........................................................................................................#..",
"..................#...........................#..........#...........................................................#......................",
"...................................................#......................#...................................................#.............",
".........#................................................................................#.................................................",
"..............#................................................................#............................................................",
"...........................#.........#..............................#...................................#..........#....................#...",
"..................................................................................................#.............................#...........",
"..#..............................................#..........................................................................................",
".................#.....................................................#.................#..................................................",
".................................#.........#...................................................#......#.........#...........................",
"..........#.........................................#.....#......................#..........................................................",
"....................#..........................#................#...........................................................#......#........",
"#........................#.............#..................................#.................................#...............................",
)
