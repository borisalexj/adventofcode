package day11

import day10.realinput10
import kotlin.math.abs
import kotlin.math.max
import kotlin.math.min

fun main(args: Array<String>) {
    val input = realInput11.map { it.split("").filter { it.isNotEmpty() }.toMutableList() }.toMutableList()
//    println(input)
    val input2 = ArrayList<ArrayList<String>>()
    val input3 = ArrayList<ArrayList<String>>()
    val input4 = ArrayList<ArrayList<String>>()
    for (line in input) {
        if (line.all { it == "." }) {
            input2.add(ArrayList(line))
            input2.add(ArrayList(line))
        } else {
            input2.add(ArrayList(line))
        }
    }
    for (line in input2) {
        input3.add(arrayListOf())
    }
    for (i in 0..input2[0].size-1) {
        if (input2.map { it[i] }.all { it == "." }) {
            for (i3 in 0..input3.size-1) {
                input3[i3].add(".")
                input3[i3].add(".")
            }
        } else {
            for (i3 in 0..input3.size-1) {
                input3[i3].add(input2[i3][i])

            }
        }
    }
    input.forEach { println(it) }
    println("===============")
    input2.forEach { println(it) }
    println("===============")
    input3.forEach { println(it) }
    println("===============")
    var number = 0
    for (line in input3) {
        val outLine = ArrayList<String>()
        for (symbol in line) {
            if (symbol == ".") {
                outLine.add(symbol)
            } else {
                number = number +1
                outLine.add(number.toString())
            }
        }
        input4.add(outLine)
    }
    input4.forEach { println(it) }

    val result = HashMap<Pair<String,String>,Int>() // n1,n2,distance
    for (y1 in 0..input4.size-1) {
        for (x1 in 0..input4[0].size-1) {
            if (input4[y1][x1] == ".") {
                continue
            } else {
                for (y2 in 0..input4.size-1) {
                    for (x2 in 0..input4.size-1) {
                        if (input4[y1][x1] == input4[y2][x2] || input4[y2][x2] == ".") {
                            continue
                        } else {
                            val distance = abs(x2 -x1) + abs(y2 - y1)
                            val num1 = min(input4[y1][x1].toInt(), input4[y2][x2].toInt()).toString()
                            val num2 = max(input4[y1][x1].toInt(), input4[y2][x2].toInt()).toString()
                            result.put(Pair(num1, num2), distance)
                        }
                    }
                }
            }
        }
    }
//    result.entries.forEach { println(it) }
    println("result 1101 - " + result.values.sum()) // result - 10077850


}

val sampleInput11 = arrayListOf(
    "...#......",
    ".......#..",
    "#.........",
    "..........",
    "......#...",
    ".#........",
    ".........#",
    "..........",
    ".......#..",
    "#...#.....",
)
val realInput11 = arrayListOf(
"...................#.....#...............#......................#......................#...................#...........................#....",
"..................................................#................................................#..............#.........................",
"......#.....#.................#..............................................................#..............................................",
"......................................................#..................#.....#............................................................",
".....................................................................................#.....................................#................",
".#............................................................................................................#.............................",
"..................#......................#............................#..............................................................#.....#",
"......................................................................................................#.............#.......................",
"..............................................#........#........................#................................................#..........",
".....#......................#......................................#.....#...................#..............................................",
".........................................................................................................#..................................",
"......................#...............#............#........................................................................................",
"..................................................................................................#.........................................",
"..........#..................................................................................................#..............#..........#....",
"....#...........................#..........................#..............................#.................................................",
"........................................#............................................#.................................#.........#..........",
"...................................................................#...........#..........................#.................................",
"............................................................................................................................................",
"............................................#...............................................................................................",
"....................#.................................#................................................................................#....",
"............................................................................................#...............................................",
"............................................................................#........#.........................................#............",
"...#...................#..........................#...............#......................................................#..................",
"..............................#........#....................................................................................................",
"................#................................................................................#.......................................#..",
"......#..............................................................#...................#..................................................",
".#.........................................#..........#.........#..............#........................#............#......................",
"............................................................................................................................................",
"...........#...................................#...............................................................#.............#..............",
"........................#........#........................................#..........#..................................................#...",
"....#.....................................................#.................................#......................................#........",
"...............................................................#...................................#....................#...................",
"#.............................................................................#..................................#.............#............",
".............................#..........#.............................#...................................#.................................",
"........................................................#...................................................................................",
".............#........................................................................................................#................#....",
"...#.............................................#..................................#......#.....#..........................................",
"................................#..............................#............................................................................",
"...................#........................................................#...............................................................",
"#..........................#.........................................................................#......#...........#...................",
".......#...........................#.....#..............#.................................................................................#.",
"......................#.........................#...........................................................................................",
".....................................................................................................................#.......#......#.......",
".............................................................#....................#...............#.........................................",
".........#..................................................................................................................................",
"...............................#............#....................#.....#...............#..................#.................................",
"....#...........#.........#.........................#..............................................................#..................#.....",
".....................#.......................................................................#..............................................",
"....................................................................................................#.......................................",
".....................................#..........#...............................#...........................#..........#..........#.......#.",
"..........................................................................................#.................................................",
".#..........................................#.............................#.................................................................",
".................#...........#............................#.............................................#......................#............",
".........#...........................................................#..............#.......................................................",
"..................................................................................................#.............#.......#...................",
".............................................................................#.......................................................#......",
"......#.............#...........#..........#........#...........#...........................................#...............................",
".........................................................................#..................................................................",
"........................................................#...........#...........#................................................#..........",
"........................................#....................#..........................................#.............#.....................",
"..........#...................#................................................................#..........................................#.",
"..................#.................................................................................#..........#............................",
"..........................................................................................#.................................................",
"..........................................................#...............#.................................................................",
"............#................................#......................#..........#.........................................#......#...........",
"..#.......................#..................................................................................#.....#........................",
".................................................#...........................................#..............................................",
".........#........#..................#...........................#.....................#...............#.............................#......",
"......................................................................#..........................#.....................#....................",
"............................................................................................................................................",
"........................#.....................................................................................#............#............#...",
"..............#............................#.................................#......#.......................................................",
"........#..........#........................................................................................................................",
"............................#............................................#..........................#.......................................",
".......................................................#......#.........................................................#......#............",
".........................................................................................#.....#..................#.........................",
".......................#................#.......................................#............................#.......................#......",
"............................................................................................................................................",
".........#.......................................................................................................................#..........",
"...#..........#................................#...........#......#.....................................................................#...",
"....................................................................................#.......................................................",
".............................#.....................................................................................#.....#..................",
"...................................#.....................................................#.............#....................................",
".....#.............#................................#......................................................................................#",
".............#............................................#...................#.................#.....................#.....#......#........",
"#...............................#.........#..........................................#......................................................",
".........................#...............................................#..................................................................",
".................................................................................#......................................................#...",
"....#...........#..................................#......................................................#.................................",
"..............................................#.....................#.......................#...........................#...................",
"..............................#.........................#.............................................#.........#...........................",
".........................................#.....................................#...............................................#............",
".#.........#..................................................#..........................#...........................#......................",
"............................................................................................................................................",
".........................................................................................................................................#..",
".......#..........................................#.......................#................................................#........#.......",
"............................................................................................................................................",
".................#.........#.........................................#.........................#.....#......#...............................",
"............................................#..........#......................#......#......................................................",
"....................................#.............................................................................#.........................",
"...........................................................#................................................................................",
".................................................................................#........#...............#..............................#..",
".......#...........#..............................#.........................................................................................",
"..#...............................................................................................#.................#............#..........",
"..............................................#..........#...............#..................................................................",
"..................................#.....#.....................#.......................#...............#......#.............#................",
"..........................#.................................................................................................................",
"....................................................#..................................................................#....................",
"...........................................................................#..............#.....#...........................................",
"#...................#...........................................................#...........................................................",
"...........................................#....................#....................................................................#......",
".......#.....#........................................#....................................................#................................",
"..............................#...................................................................#.........................................",
".............................................................................#.......................................#......................",
".....................#....................................................................................................................#.",
".................................#....................................#........................#............................................",
"......#...........................................#.........................................................................................",
"...........................................#................................................................................#......#........",
"..........#...............#.........................................................#.......................................................",
"..................#...........................................................#.............................................................",
"...............................................................#............................................#.......#.......................",
"....#........#...................................................................................#..........................................",
"......................#...................................................#...........#................#....................................",
"........#..............................................#...................................#....................#...........................",
"..................................................#.......................................................................#..........#......",
".#...................................#..........................................................................................#...........",
"..........................................#........................................#...............#........................................",
"..........................#.....#........................................................................................................#..",
"..................#...........................#..........#...........................................................#......................",
"...................................................#......................#...................................................#.............",
".........#................................................................................#.................................................",
"..............#................................................................#............................................................",
"...........................#.........#..............................#...................................#..........#....................#...",
"..................................................................................................#.............................#...........",
"..#..............................................#..........................................................................................",
".................#.....................................................#.................#..................................................",
".................................#.........#...................................................#......#.........#...........................",
"..........#.........................................#.....#......................#..........................................................",
"....................#..........................#................#...........................................................#......#........",
"#........................#.............#..................................#.................................#...............................",
)
